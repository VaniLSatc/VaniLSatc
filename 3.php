<?php
// Функция check_3 - проверяет цифры числа и суммирует те, что делятся на 3
function check_3($A, &$sum) {
    if ($A < 0) $A = $A * (-1); // Для работы с суммой требуется проверить - положительное число или нет
    
    // Основной цикл. В нём проверяется, делится ли последняя цифра числа на 3 или нет,
    // и в случае успеха число прибавляется к сумме
    for ($i = 0; $i <= 10; $i++) {
        if (($A % 10) % 3 == 0) {
            $sum += ($A % 10);
            $A = (int)($A / 10);
        } else {
            $A = (int)($A / 10);
        }
    }
}

echo "Введите количество чисел, а затем сами числа\n";

// Чтение количества чисел
$sum = 0;
$count = (int)trim(fgets(STDIN));

if ($count >= 0) { // Проверка на корректность введённых данных
    // Цикл для ввода чисел
    for ($i = 1; $i <= $count; $i++) {
        echo $i . " ";
        $number = (int)trim(fgets(STDIN));
        check_3($number, $sum);
    }
    echo "\nРезультат: " . $sum . "\n"; // Вывод результата
} else {
    echo "Количество чисел должно быть положительным числом!\n";
}

echo "\n";
?>
